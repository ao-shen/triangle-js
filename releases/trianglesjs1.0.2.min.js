let Triangle;!function(){"use strict";var t=1/1048576;function e(e,n,i,r){var h,o,l,a,f,u,g,c,d,s,m=e[n][0],I=e[n][1],w=e[i][0],T=e[i][1],N=e[r][0],p=e[r][1],v=Math.abs(I-T),y=Math.abs(T-p);if(v<t&&y<t)throw new Error("Eek! Coincident points!");return v<t?o=(a=-(N-w)/(p-T))*((h=(w+m)/2)-(u=(w+N)/2))+(c=(T+p)/2):y<t?o=(l=-(w-m)/(T-I))*((h=(N+w)/2)-(f=(m+w)/2))+(g=(I+T)/2):(h=((l=-(w-m)/(T-I))*(f=(m+w)/2)-(a=-(N-w)/(p-T))*(u=(w+N)/2)+(c=(T+p)/2)-(g=(I+T)/2))/(l-a),o=v>y?l*(h-f)+g:a*(h-u)+c),{i:n,j:i,k:r,x:h,y:o,r:(d=w-h)*d+(s=T-o)*s}}function n(t){var e,n,i,r,h,o;for(n=t.length;n;)for(r=t[--n],i=t[--n],e=n;e;)if(o=t[--e],i===(h=t[--e])&&r===o||i===o&&r===h){t.splice(n,2),t.splice(e,2);break}}function i(i,r){var h,o,l,a,f,u,g,c,d,s,m,I,w=i.length;if(w<3)return[];if(i=i.slice(0),r)for(h=w;h--;)i[h]=i[h][r];for(l=new Array(w),h=w;h--;)l[h]=h;for(l.sort(function(t,e){var n=i[e][0]-i[t][0];return 0!==n?n:t-e}),a=function(t){var e,n,i,r,h,o,l=Number.POSITIVE_INFINITY,a=Number.POSITIVE_INFINITY,f=Number.NEGATIVE_INFINITY,u=Number.NEGATIVE_INFINITY;for(e=t.length;e--;)t[e][0]<l&&(l=t[e][0]),t[e][0]>f&&(f=t[e][0]),t[e][1]<a&&(a=t[e][1]),t[e][1]>u&&(u=t[e][1]);return i=u-a,[[(h=l+.5*(n=f-l))-20*(r=Math.max(n,i)),(o=a+.5*i)-r],[h,o+20*r],[h+20*r,o-r]]}(i),i.push(a[0],a[1],a[2]),f=[e(i,w+0,w+1,w+2)],u=[],g=[],h=l.length;h--;g.length=0){for(I=l[h],o=f.length;o--;)(c=i[I][0]-f[o].x)>0&&c*c>f[o].r?(u.push(f[o]),f.splice(o,1)):c*c+(d=i[I][1]-f[o].y)*d-f[o].r>t||(g.push(f[o].i,f[o].j,f[o].j,f[o].k,f[o].k,f[o].i),f.splice(o,1));for(n(g),o=g.length;o;)m=g[--o],s=g[--o],f.push(e(i,s,m,I))}for(h=f.length;h--;)u.push(f[h]);for(f.length=0,h=u.length;h--;)u[h].i<w&&u[h].j<w&&u[h].k<w&&f.push(u[h].i,u[h].j,u[h].k);return f}Triangle={create:function(t,e={}){let n,r,h,o,l,a,f,u="numPoints"in e?e.numPoints:300,g="frameRate"in e?e.frameRate:60,c="velocity"in e?e.velocity:.5,d="fillStyle"in e?e.fillStyle:function(t,e){return`rgb(${100*e},${200*e},255)`},s=t.getContext("2d"),m=new Array(u+4),I=new Array(u+4);t.width=t.clientWidth,t.height=t.clientHeight,o=1.1*t.width,l=1.1*t.height,a=(t.width-o)/2,f=(t.height-l)/2;var w=!0;function T(){for(t.width=t.clientWidth,t.height=t.clientHeight,o=1.1*t.width,l=1.1*t.height,a=(t.width-o)/2,f=(t.height-l)/2,n=4;n<m.length;n++)m[n]=[Math.random()*o,Math.random()*l],I[n]=[(Math.random()-.5)*c,(Math.random()-.5)*c]}for(window.addEventListener("resize",function(){w&&(T(),w=!1,setTimeout(function(){w=!0,T()},500))}),m[0]=[0,0],I[0]=[0,0],m[1]=[o-1,0],I[1]=[0,0],m[2]=[o-1,l-1],I[2]=[0,0],m[3]=[0,l-1],I[3]=[0,0],n=4;n<m.length;n++)m[n]=[Math.random()*o,Math.random()*l],I[n]=[(Math.random()-.5)*c,(Math.random()-.5)*c];setInterval(function(){for(n=m.length;n--;)m[n][0]=(m[n][0]+I[n][0]+o)%o,m[n][1]=(m[n][1]+I[n][1]+l)%l;var e=i(m);for(s.clearRect(0,0,t.width,t.height),n=e.length;n;)s.beginPath(),r=((m[e[--n]][0]+m[e[n-1]][0]+m[e[n-2]][0])/3+a)/t.width,h=((m[e[n]][1]+m[e[n-1]][1]+m[e[n-2]][1])/3+f)/t.height,s.fillStyle=d(r,h),s.strokeStyle=s.fillStyle,s.moveTo(m[e[n]][0]+a,m[e[n]][1]+f),--n,s.lineTo(m[e[n]][0]+a,m[e[n]][1]+f),--n,s.lineTo(m[e[n]][0]+a,m[e[n]][1]+f),s.closePath(),s.fill(),s.stroke()},1/g)}},"undefined"!=typeof module&&(module.exports=Triangle)}();